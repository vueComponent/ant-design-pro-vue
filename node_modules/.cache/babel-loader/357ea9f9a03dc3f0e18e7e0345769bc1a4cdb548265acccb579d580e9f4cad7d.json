{"ast":null,"code":"import _objectSpread from \"/home/cg/public/h1emu-boot-vue/node_modules/_@babel_runtime@7.20.1@@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport Vue from 'vue';\nimport VueI18n from 'vue-i18n';\nimport storage from 'store';\nimport moment from 'moment';\n\n// default lang\nimport enUS from './lang/en-US';\nVue.use(VueI18n);\nexport var defaultLang = 'en-US';\nvar messages = {\n  'en-US': _objectSpread({}, enUS)\n};\nvar i18n = new VueI18n({\n  silentTranslationWarn: true,\n  locale: defaultLang,\n  fallbackLocale: defaultLang,\n  messages: messages\n});\nvar loadedLanguages = [defaultLang];\nfunction setI18nLanguage(lang) {\n  i18n.locale = lang;\n  // request.headers['Accept-Language'] = lang\n  document.querySelector('html').setAttribute('lang', lang);\n  return lang;\n}\nexport function loadLanguageAsync() {\n  var lang = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultLang;\n  return new Promise(function (resolve) {\n    // 缓存语言设置\n    storage.set('lang', lang);\n    if (i18n.locale !== lang) {\n      if (!loadedLanguages.includes(lang)) {\n        return import( /* webpackChunkName: \"lang-[request]\" */\"./lang/\".concat(lang)).then(function (msg) {\n          var locale = msg.default;\n          i18n.setLocaleMessage(lang, locale);\n          loadedLanguages.push(lang);\n          moment.updateLocale(locale.momentName, locale.momentLocale);\n          return setI18nLanguage(lang);\n        });\n      }\n      return resolve(setI18nLanguage(lang));\n    }\n    return resolve(lang);\n  });\n}\nexport function i18nRender(key) {\n  return i18n.t(\"\".concat(key));\n}\nexport default i18n;","map":{"version":3,"names":["Vue","VueI18n","storage","moment","enUS","use","defaultLang","messages","i18n","silentTranslationWarn","locale","fallbackLocale","loadedLanguages","setI18nLanguage","lang","document","querySelector","setAttribute","loadLanguageAsync","Promise","resolve","set","includes","then","msg","default","setLocaleMessage","push","updateLocale","momentName","momentLocale","i18nRender","key","t"],"sources":["/home/cg/public/h1emu-boot-vue/src/locales/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\nimport storage from 'store'\nimport moment from 'moment'\n\n// default lang\nimport enUS from './lang/en-US'\n\nVue.use(VueI18n)\n\nexport const defaultLang = 'en-US'\n\nconst messages = {\n  'en-US': {\n    ...enUS\n  }\n}\n\nconst i18n = new VueI18n({\n  silentTranslationWarn: true,\n  locale: defaultLang,\n  fallbackLocale: defaultLang,\n  messages\n})\n\nconst loadedLanguages = [defaultLang]\n\nfunction setI18nLanguage (lang) {\n  i18n.locale = lang\n  // request.headers['Accept-Language'] = lang\n  document.querySelector('html').setAttribute('lang', lang)\n  return lang\n}\n\nexport function loadLanguageAsync (lang = defaultLang) {\n  return new Promise(resolve => {\n    // 缓存语言设置\n    storage.set('lang', lang)\n    if (i18n.locale !== lang) {\n      if (!loadedLanguages.includes(lang)) {\n        return import(/* webpackChunkName: \"lang-[request]\" */ `./lang/${lang}`).then(msg => {\n          const locale = msg.default\n          i18n.setLocaleMessage(lang, locale)\n          loadedLanguages.push(lang)\n          moment.updateLocale(locale.momentName, locale.momentLocale)\n          return setI18nLanguage(lang)\n        })\n      }\n      return resolve(setI18nLanguage(lang))\n    }\n    return resolve(lang)\n  })\n}\n\nexport function i18nRender (key) {\n  return i18n.t(`${key}`)\n}\n\nexport default i18n\n"],"mappings":";;;;;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,OAAO,MAAM,UAAU;AAC9B,OAAOC,OAAO,MAAM,OAAO;AAC3B,OAAOC,MAAM,MAAM,QAAQ;;AAE3B;AACA,OAAOC,IAAI,MAAM,cAAc;AAE/BJ,GAAG,CAACK,GAAG,CAACJ,OAAO,CAAC;AAEhB,OAAO,IAAMK,WAAW,GAAG,OAAO;AAElC,IAAMC,QAAQ,GAAG;EACf,OAAO,oBACFH,IAAI;AAEX,CAAC;AAED,IAAMI,IAAI,GAAG,IAAIP,OAAO,CAAC;EACvBQ,qBAAqB,EAAE,IAAI;EAC3BC,MAAM,EAAEJ,WAAW;EACnBK,cAAc,EAAEL,WAAW;EAC3BC,QAAQ,EAARA;AACF,CAAC,CAAC;AAEF,IAAMK,eAAe,GAAG,CAACN,WAAW,CAAC;AAErC,SAASO,eAAe,CAAEC,IAAI,EAAE;EAC9BN,IAAI,CAACE,MAAM,GAAGI,IAAI;EAClB;EACAC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,CAACC,YAAY,CAAC,MAAM,EAAEH,IAAI,CAAC;EACzD,OAAOA,IAAI;AACb;AAEA,OAAO,SAASI,iBAAiB,GAAsB;EAAA,IAApBJ,IAAI,uEAAGR,WAAW;EACnD,OAAO,IAAIa,OAAO,CAAC,UAAAC,OAAO,EAAI;IAC5B;IACAlB,OAAO,CAACmB,GAAG,CAAC,MAAM,EAAEP,IAAI,CAAC;IACzB,IAAIN,IAAI,CAACE,MAAM,KAAKI,IAAI,EAAE;MACxB,IAAI,CAACF,eAAe,CAACU,QAAQ,CAACR,IAAI,CAAC,EAAE;QACnC,OAAO,MAAM,EAAC,yDAAmDA,IAAI,EAAG,CAACS,IAAI,CAAC,UAAAC,GAAG,EAAI;UACnF,IAAMd,MAAM,GAAGc,GAAG,CAACC,OAAO;UAC1BjB,IAAI,CAACkB,gBAAgB,CAACZ,IAAI,EAAEJ,MAAM,CAAC;UACnCE,eAAe,CAACe,IAAI,CAACb,IAAI,CAAC;UAC1BX,MAAM,CAACyB,YAAY,CAAClB,MAAM,CAACmB,UAAU,EAAEnB,MAAM,CAACoB,YAAY,CAAC;UAC3D,OAAOjB,eAAe,CAACC,IAAI,CAAC;QAC9B,CAAC,CAAC;MACJ;MACA,OAAOM,OAAO,CAACP,eAAe,CAACC,IAAI,CAAC,CAAC;IACvC;IACA,OAAOM,OAAO,CAACN,IAAI,CAAC;EACtB,CAAC,CAAC;AACJ;AAEA,OAAO,SAASiB,UAAU,CAAEC,GAAG,EAAE;EAC/B,OAAOxB,IAAI,CAACyB,CAAC,WAAID,GAAG,EAAG;AACzB;AAEA,eAAexB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}