{"ast":null,"code":"import Vue from 'vue';\nimport Router from 'vue-router';\nimport { constantRouterMap } from '@/config/router.config';\n\n// hack router push callback\nvar originalPush = Router.prototype.push;\nRouter.prototype.push = function push(location, onResolve, onReject) {\n  if (onResolve || onReject) return originalPush.call(this, location, onResolve, onReject);\n  return originalPush.call(this, location).catch(function (err) {\n    return err;\n  });\n};\nVue.use(Router);\nvar createRouter = function createRouter() {\n  return new Router({\n    mode: 'history',\n    routes: constantRouterMap\n  });\n};\nvar router = createRouter();\n\n// 定义一个resetRouter 方法，在退出登录后或token过期后 需要重新登录时，调用即可\nexport function resetRouter() {\n  var newRouter = createRouter();\n  router.matcher = newRouter.matcher;\n}\nexport default router;","map":{"version":3,"names":["Vue","Router","constantRouterMap","originalPush","prototype","push","location","onResolve","onReject","call","catch","err","use","createRouter","mode","routes","router","resetRouter","newRouter","matcher"],"sources":["/home/cg/public/h1emu-boot-vue/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport { constantRouterMap } from '@/config/router.config'\n\n// hack router push callback\nconst originalPush = Router.prototype.push\nRouter.prototype.push = function push (location, onResolve, onReject) {\n  if (onResolve || onReject) return originalPush.call(this, location, onResolve, onReject)\n  return originalPush.call(this, location).catch(err => err)\n}\n\nVue.use(Router)\n\nconst createRouter = () =>\n  new Router({\n    mode: 'history',\n    routes: constantRouterMap\n  })\n\nconst router = createRouter()\n\n// 定义一个resetRouter 方法，在退出登录后或token过期后 需要重新登录时，调用即可\nexport function resetRouter () {\n  const newRouter = createRouter()\n  router.matcher = newRouter.matcher\n}\n\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,MAAM,MAAM,YAAY;AAC/B,SAASC,iBAAiB,QAAQ,wBAAwB;;AAE1D;AACA,IAAMC,YAAY,GAAGF,MAAM,CAACG,SAAS,CAACC,IAAI;AAC1CJ,MAAM,CAACG,SAAS,CAACC,IAAI,GAAG,SAASA,IAAI,CAAEC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,EAAE;EACpE,IAAID,SAAS,IAAIC,QAAQ,EAAE,OAAOL,YAAY,CAACM,IAAI,CAAC,IAAI,EAAEH,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,CAAC;EACxF,OAAOL,YAAY,CAACM,IAAI,CAAC,IAAI,EAAEH,QAAQ,CAAC,CAACI,KAAK,CAAC,UAAAC,GAAG;IAAA,OAAIA,GAAG;EAAA,EAAC;AAC5D,CAAC;AAEDX,GAAG,CAACY,GAAG,CAACX,MAAM,CAAC;AAEf,IAAMY,YAAY,GAAG,SAAfA,YAAY;EAAA,OAChB,IAAIZ,MAAM,CAAC;IACTa,IAAI,EAAE,SAAS;IACfC,MAAM,EAAEb;EACV,CAAC,CAAC;AAAA;AAEJ,IAAMc,MAAM,GAAGH,YAAY,EAAE;;AAE7B;AACA,OAAO,SAASI,WAAW,GAAI;EAC7B,IAAMC,SAAS,GAAGL,YAAY,EAAE;EAChCG,MAAM,CAACG,OAAO,GAAGD,SAAS,CAACC,OAAO;AACpC;AAEA,eAAeH,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}