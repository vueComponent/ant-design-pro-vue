{"ast":null,"code":"import _slicedToArray from \"/home/cg/public/h1emu-boot-vue/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nexport var PERMISSION_ENUM = {\n  'add': {\n    key: 'add',\n    label: '新增'\n  },\n  'delete': {\n    key: 'delete',\n    label: '删除'\n  },\n  'edit': {\n    key: 'edit',\n    label: '修改'\n  },\n  'query': {\n    key: 'query',\n    label: '查询'\n  },\n  'get': {\n    key: 'get',\n    label: '详情'\n  },\n  'enable': {\n    key: 'enable',\n    label: '启用'\n  },\n  'disable': {\n    key: 'disable',\n    label: '禁用'\n  },\n  'import': {\n    key: 'import',\n    label: '导入'\n  },\n  'export': {\n    key: 'export',\n    label: '导出'\n  }\n};\n\n/**\n * <a-button v-if=\"$auth('form.edit')\">Button</a-button>\n * @param Vue\n */\nfunction plugin(Vue) {\n  if (plugin.installed) {\n    return;\n  }\n  !Vue.prototype.$auth && Object.defineProperties(Vue.prototype, {\n    $auth: {\n      get: function get() {\n        var _this = this;\n        return function (permissions) {\n          var _permissions$split = permissions.split('.'),\n            _permissions$split2 = _slicedToArray(_permissions$split, 2),\n            permission = _permissions$split2[0],\n            action = _permissions$split2[1];\n          var permissionList = _this.$store.getters.roles.permissions;\n          return permissionList.find(function (val) {\n            return val.permissionId === permission;\n          }).actionList.findIndex(function (val) {\n            return val === action;\n          }) > -1;\n        };\n      }\n    }\n  });\n  !Vue.prototype.$enum && Object.defineProperties(Vue.prototype, {\n    $enum: {\n      get: function get() {\n        // const _this = this;\n        return function (val) {\n          var result = PERMISSION_ENUM;\n          val && val.split('.').forEach(function (v) {\n            result = result && result[v] || null;\n          });\n          return result;\n        };\n      }\n    }\n  });\n}\nexport default plugin;","map":{"version":3,"names":["PERMISSION_ENUM","key","label","plugin","Vue","installed","prototype","$auth","Object","defineProperties","get","_this","permissions","split","permission","action","permissionList","$store","getters","roles","find","val","permissionId","actionList","findIndex","$enum","result","forEach","v"],"sources":["/home/cg/public/h1emu-boot-vue/src/core/permission/permission.js"],"sourcesContent":["export const PERMISSION_ENUM = {\n  'add': { key: 'add', label: '新增' },\n  'delete': { key: 'delete', label: '删除' },\n  'edit': { key: 'edit', label: '修改' },\n  'query': { key: 'query', label: '查询' },\n  'get': { key: 'get', label: '详情' },\n  'enable': { key: 'enable', label: '启用' },\n  'disable': { key: 'disable', label: '禁用' },\n  'import': { key: 'import', label: '导入' },\n  'export': { key: 'export', label: '导出' }\n}\n\n/**\n * <a-button v-if=\"$auth('form.edit')\">Button</a-button>\n * @param Vue\n */\nfunction plugin (Vue) {\n  if (plugin.installed) {\n    return\n  }\n\n  !Vue.prototype.$auth && Object.defineProperties(Vue.prototype, {\n    $auth: {\n      get () {\n        const _this = this\n        return (permissions) => {\n          const [permission, action] = permissions.split('.')\n          const permissionList = _this.$store.getters.roles.permissions\n          return permissionList.find((val) => {\n            return val.permissionId === permission\n          }).actionList.findIndex((val) => {\n            return val === action\n          }) > -1\n        }\n      }\n    }\n  })\n\n  !Vue.prototype.$enum && Object.defineProperties(Vue.prototype, {\n    $enum: {\n      get () {\n        // const _this = this;\n        return (val) => {\n          let result = PERMISSION_ENUM\n          val && val.split('.').forEach(v => {\n            result = result && result[v] || null\n          })\n          return result\n        }\n      }\n    }\n  })\n}\n\nexport default plugin\n"],"mappings":";;;;;AAAA,OAAO,IAAMA,eAAe,GAAG;EAC7B,KAAK,EAAE;IAAEC,GAAG,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAK,CAAC;EAClC,QAAQ,EAAE;IAAED,GAAG,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAK,CAAC;EACxC,MAAM,EAAE;IAAED,GAAG,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAK,CAAC;EACpC,OAAO,EAAE;IAAED,GAAG,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAK,CAAC;EACtC,KAAK,EAAE;IAAED,GAAG,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAK,CAAC;EAClC,QAAQ,EAAE;IAAED,GAAG,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAK,CAAC;EACxC,SAAS,EAAE;IAAED,GAAG,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAK,CAAC;EAC1C,QAAQ,EAAE;IAAED,GAAG,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAK,CAAC;EACxC,QAAQ,EAAE;IAAED,GAAG,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAK;AACzC,CAAC;;AAED;AACA;AACA;AACA;AACA,SAASC,MAAM,CAAEC,GAAG,EAAE;EACpB,IAAID,MAAM,CAACE,SAAS,EAAE;IACpB;EACF;EAEA,CAACD,GAAG,CAACE,SAAS,CAACC,KAAK,IAAIC,MAAM,CAACC,gBAAgB,CAACL,GAAG,CAACE,SAAS,EAAE;IAC7DC,KAAK,EAAE;MACLG,GAAG,iBAAI;QACL,IAAMC,KAAK,GAAG,IAAI;QAClB,OAAO,UAACC,WAAW,EAAK;UACtB,yBAA6BA,WAAW,CAACC,KAAK,CAAC,GAAG,CAAC;YAAA;YAA5CC,UAAU;YAAEC,MAAM;UACzB,IAAMC,cAAc,GAAGL,KAAK,CAACM,MAAM,CAACC,OAAO,CAACC,KAAK,CAACP,WAAW;UAC7D,OAAOI,cAAc,CAACI,IAAI,CAAC,UAACC,GAAG,EAAK;YAClC,OAAOA,GAAG,CAACC,YAAY,KAAKR,UAAU;UACxC,CAAC,CAAC,CAACS,UAAU,CAACC,SAAS,CAAC,UAACH,GAAG,EAAK;YAC/B,OAAOA,GAAG,KAAKN,MAAM;UACvB,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC;MACH;IACF;EACF,CAAC,CAAC;EAEF,CAACX,GAAG,CAACE,SAAS,CAACmB,KAAK,IAAIjB,MAAM,CAACC,gBAAgB,CAACL,GAAG,CAACE,SAAS,EAAE;IAC7DmB,KAAK,EAAE;MACLf,GAAG,iBAAI;QACL;QACA,OAAO,UAACW,GAAG,EAAK;UACd,IAAIK,MAAM,GAAG1B,eAAe;UAC5BqB,GAAG,IAAIA,GAAG,CAACR,KAAK,CAAC,GAAG,CAAC,CAACc,OAAO,CAAC,UAAAC,CAAC,EAAI;YACjCF,MAAM,GAAGA,MAAM,IAAIA,MAAM,CAACE,CAAC,CAAC,IAAI,IAAI;UACtC,CAAC,CAAC;UACF,OAAOF,MAAM;QACf,CAAC;MACH;IACF;EACF,CAAC,CAAC;AACJ;AAEA,eAAevB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}