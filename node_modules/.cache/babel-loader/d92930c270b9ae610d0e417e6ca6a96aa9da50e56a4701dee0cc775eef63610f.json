{"ast":null,"code":"import _objectSpread from \"/home/cg/public/h1emu-boot-vue/node_modules/_@babel_runtime@7.20.1@@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"ant-design-vue/es/icon/style\";\nimport _Icon from \"ant-design-vue/es/icon\";\nimport \"ant-design-vue/es/input/style\";\nimport _Input from \"ant-design-vue/es/input\";\nimport \"ant-design-vue/es/menu/style\";\nimport _Menu from \"ant-design-vue/es/menu\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nvar Item = _Menu.Item,\n  ItemGroup = _Menu.ItemGroup,\n  SubMenu = _Menu.SubMenu;\nvar Search = _Input.Search;\nexport default {\n  name: 'Tree',\n  props: {\n    dataSource: {\n      type: Array,\n      required: true\n    },\n    openKeys: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    search: {\n      type: Boolean,\n      default: false\n    }\n  },\n  created: function created() {\n    this.localOpenKeys = this.openKeys.slice(0);\n  },\n  data: function data() {\n    return {\n      localOpenKeys: []\n    };\n  },\n  methods: {\n    handlePlus: function handlePlus(item) {\n      this.$emit('add', item);\n    },\n    handleTitleClick: function handleTitleClick() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      this.$emit('titleClick', {\n        args: args\n      });\n    },\n    renderSearch: function renderSearch() {\n      var h = this.$createElement;\n      return h(Search, {\n        \"attrs\": {\n          \"placeholder\": \"input search text\"\n        },\n        \"style\": \"width: 100%; margin-bottom: 1rem\"\n      });\n    },\n    renderIcon: function renderIcon(icon) {\n      var h = this.$createElement;\n      return icon && h(_Icon, {\n        \"attrs\": {\n          \"type\": icon\n        }\n      }) || null;\n    },\n    renderMenuItem: function renderMenuItem(item) {\n      var _this = this;\n      var h = this.$createElement;\n      return h(Item, {\n        \"key\": item.key\n      }, [this.renderIcon(item.icon), item.title, h(\"a\", {\n        \"class\": \"btn\",\n        \"style\": \"width: 20px;z-index:1300\",\n        \"on\": _objectSpread({}, {\n          click: function click() {\n            return _this.handlePlus(item);\n          }\n        })\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"plus\"\n        }\n      })])]);\n    },\n    renderItem: function renderItem(item) {\n      return item.children ? this.renderSubItem(item, item.key) : this.renderMenuItem(item, item.key);\n    },\n    renderItemGroup: function renderItemGroup(item) {\n      var _this2 = this;\n      var h = this.$createElement;\n      var childrenItems = item.children.map(function (o) {\n        return _this2.renderItem(o, o.key);\n      });\n      return h(ItemGroup, {\n        \"key\": item.key\n      }, [h(\"template\", {\n        \"slot\": \"title\"\n      }, [h(\"span\", [item.title]), h(\"a-dropdown\", [h(\"a\", {\n        \"class\": \"btn\"\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"ellipsis\"\n        }\n      })]), h(\"a-menu\", {\n        \"slot\": \"overlay\"\n      }, [h(\"a-menu-item\", {\n        \"key\": \"1\"\n      }, [\"\\u65B0\\u589E\"]), h(\"a-menu-item\", {\n        \"key\": \"2\"\n      }, [\"\\u5408\\u5E76\"]), h(\"a-menu-item\", {\n        \"key\": \"3\"\n      }, [\"\\u79FB\\u9664\"])])])]), childrenItems]);\n    },\n    renderSubItem: function renderSubItem(item, key) {\n      var _this3 = this;\n      var h = this.$createElement;\n      var childrenItems = item.children && item.children.map(function (o) {\n        return _this3.renderItem(o, o.key);\n      });\n      var title = h(\"span\", {\n        \"slot\": \"title\"\n      }, [this.renderIcon(item.icon), h(\"span\", [item.title])]);\n      if (item.group) {\n        return this.renderItemGroup(item);\n      }\n      // titleClick={this.handleTitleClick(item)}\n      return h(SubMenu, {\n        \"key\": key\n      }, [title, childrenItems]);\n    }\n  },\n  render: function render() {\n    var _this4 = this;\n    var h = arguments[0];\n    var _this$$props = this.$props,\n      dataSource = _this$$props.dataSource,\n      search = _this$$props.search;\n\n    // this.localOpenKeys = openKeys.slice(0)\n    var list = dataSource.map(function (item) {\n      return _this4.renderItem(item);\n    });\n    return h(\"div\", {\n      \"class\": \"tree-wrapper\"\n    }, [search ? this.renderSearch() : null, h(_Menu, {\n      \"attrs\": {\n        \"mode\": \"inline\",\n        \"openKeys\": this.localOpenKeys\n      },\n      \"class\": \"custom-tree\",\n      \"on\": _objectSpread({}, {\n        click: function click(item) {\n          return _this4.$emit('click', item);\n        },\n        'update:openKeys': function updateOpenKeys(val) {\n          _this4.localOpenKeys = val;\n        }\n      })\n    }, [list])]);\n  }\n};","map":{"version":3,"names":["Item","ItemGroup","SubMenu","Search","name","props","dataSource","type","Array","required","openKeys","default","search","Boolean","created","localOpenKeys","slice","data","methods","handlePlus","item","$emit","handleTitleClick","args","renderSearch","renderIcon","icon","renderMenuItem","key","title","click","renderItem","children","renderSubItem","renderItemGroup","childrenItems","map","o","group","render","$props","list","val"],"sources":["/home/cg/public/h1emu-boot-vue/src/components/Tree/Tree.jsx"],"sourcesContent":["import { Menu, Icon, Input } from 'ant-design-vue'\n\nconst { Item, ItemGroup, SubMenu } = Menu\nconst { Search } = Input\n\nexport default {\n  name: 'Tree',\n  props: {\n    dataSource: {\n      type: Array,\n      required: true\n    },\n    openKeys: {\n      type: Array,\n      default: () => []\n    },\n    search: {\n      type: Boolean,\n      default: false\n    }\n  },\n  created () {\n    this.localOpenKeys = this.openKeys.slice(0)\n  },\n  data () {\n    return {\n      localOpenKeys: []\n    }\n  },\n  methods: {\n    handlePlus (item) {\n      this.$emit('add', item)\n    },\n    handleTitleClick (...args) {\n      this.$emit('titleClick', { args })\n    },\n\n    renderSearch () {\n      return (\n        <Search\n          placeholder=\"input search text\"\n          style=\"width: 100%; margin-bottom: 1rem\"\n        />\n      )\n    },\n    renderIcon (icon) {\n      return icon && (<Icon type={icon} />) || null\n    },\n    renderMenuItem (item) {\n      return (\n        <Item key={item.key}>\n          { this.renderIcon(item.icon) }\n          { item.title }\n          <a class=\"btn\" style=\"width: 20px;z-index:1300\" {...{ on: { click: () => this.handlePlus(item) } }}><a-icon type=\"plus\"/></a>\n        </Item>\n      )\n    },\n    renderItem (item) {\n      return item.children ? this.renderSubItem(item, item.key) : this.renderMenuItem(item, item.key)\n    },\n    renderItemGroup (item) {\n      const childrenItems = item.children.map(o => {\n        return this.renderItem(o, o.key)\n      })\n\n      return (\n        <ItemGroup key={item.key}>\n          <template slot=\"title\">\n            <span>{ item.title }</span>\n            <a-dropdown>\n              <a class=\"btn\"><a-icon type=\"ellipsis\" /></a>\n              <a-menu slot=\"overlay\">\n                <a-menu-item key=\"1\">新增</a-menu-item>\n                <a-menu-item key=\"2\">合并</a-menu-item>\n                <a-menu-item key=\"3\">移除</a-menu-item>\n              </a-menu>\n            </a-dropdown>\n          </template>\n          { childrenItems }\n        </ItemGroup>\n      )\n    },\n    renderSubItem (item, key) {\n      const childrenItems = item.children && item.children.map(o => {\n        return this.renderItem(o, o.key)\n      })\n\n      const title = (\n        <span slot=\"title\">\n          { this.renderIcon(item.icon) }\n          <span>{ item.title }</span>\n        </span>\n      )\n\n      if (item.group) {\n        return this.renderItemGroup(item)\n      }\n      // titleClick={this.handleTitleClick(item)}\n      return (\n        <SubMenu key={key}>\n          { title }\n          { childrenItems }\n        </SubMenu>\n      )\n    }\n  },\n  render () {\n    const { dataSource, search } = this.$props\n\n    // this.localOpenKeys = openKeys.slice(0)\n    const list = dataSource.map(item => {\n      return this.renderItem(item)\n    })\n\n    return (\n      <div class=\"tree-wrapper\">\n        { search ? this.renderSearch() : null }\n        <Menu mode=\"inline\" class=\"custom-tree\" {...{ on: { click: item => this.$emit('click', item), 'update:openKeys': val => { this.localOpenKeys = val } } }} openKeys={this.localOpenKeys}>\n          { list }\n        </Menu>\n      </div>\n    )\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}